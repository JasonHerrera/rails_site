<style type="text/css">
  .blog-posts.clearfix {
    display:flex;
    flex-flow:row wrap;
  }
  .blog-post>p {
    position:absolute;
    bottom:0;
    width:100%;
    margin:0;
  }
  .blog-post figcaption {
    margin-bottom: 50px;
  }
  .blog-post .btn {
    display:block;
    padding: 8px 12px;
    color: rgb(250,250,250) !important;
    background-color: #4c94dc;
    border-radius: 0;
    border: none;
  }
  .blog-post {
    background-color:rgb(245,245,245);
    overflow:hidden;
    padding-bottom:15px;
    border-radius:5px;
  }
  .blog-post>a:first-child {
    display:block;
    border-radius: 0;
    width:100%;
    height:200px;
    overflow:hidden;
    background-size:cover;
    background-position:center;
  }
  .blog-post figcaption {
    max-width: none;
    background-color:transparent;
    top:20px;
  }
  .blog-post figcaption>p:last-child {
    margin:0 -10px -6px -10px;
  }
  .blog-post .btn:hover {
    background-color:#6cb4fc;
  }
  .blog-post:hover .btn, .blog-post .btn {
    color:rgb(250,250,250);
  }
  .title {
    margin-bottom:0;
  }
  .author {
    margin-bottom:15px;
    color:rgb(140,140,140);
  }
  .category {
    margin:20px 0 0 0;
    background-color:transparent !important;
    border:1px solid #444;
    color: #444 !important;
  }
  .excerpt {
    margin-top: -20px !important;
  }
</style>
<div class="main-content" id="main-content">

<div class="wrapper non-home-container" >
  <h2 class="heading top-heading">Blog</h2>
  <div class="blog-posts clearfix">
      <%= content_tag(:h2, 'No posts yet. Check back later!') unless @posts %>
      <% for post in @posts %>
        <figure class="blog-post">
          <%= link_to '', post.url, style: "background-image:#{post.thumbnail ? "url('#{post.thumbnail}')" : "url('assets/logo_thumbnail.png')"}" %>
          <%= link_to post.url do %>
            <figcaption>
              <%= content_tag :p, post.title, class: 'title' %>
              <%= content_tag :p, "by #{post.author}", class: 'author' %>
              <%= content_tag :p, post.tags.map{ |tag| tag.capitalize }.join(', '), class: 'category' %>
              <%= content_tag :p, '', class: 'excerpt' %>
              <%= content_tag :p, "#{time_ago_in_words(post.date)} ago", class: 'text-muted text-small' %>
            </figcaption>
            <p>
              <%= link_to 'Read More', post.url, class: 'btn' %>
            </p>
          <% end %>
        </figure>
      <% end %>
</div>
</div>
</div>
